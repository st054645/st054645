"use strict";(this.webpackChunktweb=this.webpackChunktweb||[]).push([[139,339],{4494:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(2325),s=n(1405);const a=(e,t={})=>{const n=document.createElement(t.asDiv?"div":"button");return n.className=e+(t.icon?" tgico-"+t.icon:""),t.noRipple||(t.rippleSquare&&n.classList.add("rp-square"),(0,s.Z)(n)),t.onlyMobile&&n.classList.add("only-handhelds"),t.disabled&&n.setAttribute("disabled","true"),t.text&&n.append((0,i.ag)(t.text)),n}},279:(e,t,n)=>{function i(e,t=!1){const n='\n  <svg xmlns="http://www.w3.org/2000/svg" class="preloader-circular" viewBox="25 25 50 50">\n  <circle class="preloader-path" cx="50" cy="50" r="20" fill="none" stroke-miterlimit="10"/>\n  </svg>';if(t){const t=document.createElement("div");return t.classList.add("preloader"),t.innerHTML=n,e&&e.appendChild(t),t}return e.insertAdjacentHTML("beforeend",n),e.lastElementChild}function s(e,t="check"){return e.classList.remove("tgico-"+t),e.disabled=!0,i(e),()=>{e.innerHTML="",e.classList.add("tgico-"+t),e.removeAttribute("disabled")}}n.d(t,{p:()=>s,y:()=>i}),n(410).GO.putPreloader=i},1405:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(8497),s=n(9674),a=n(5432),r=n(3512),o=n(5975);let l=0;function d(e,t=(()=>Promise.resolve()),n=null,d=!1,c=e){if(e.querySelector(".c-ripple"))return;e.classList.add("rp");let u,p=document.createElement("div");p.classList.add("c-ripple"),e.classList.contains("rp-square")&&p.classList.add("is-square"),e[d?"prepend":"append"](p);const h=(e,i)=>{const r=Date.now(),o=document.createElement("div"),d=l++,c=1e3*+window.getComputedStyle(p).getPropertyValue("--ripple-duration").replace("s","");u=()=>{let e=Date.now()-r;const t=()=>{s.Z.mutate((()=>{o.remove()})),n&&n(d)};if(e<c){let n=Math.max(c-e,c/2);setTimeout((()=>o.classList.add("hiding")),Math.max(n-c/2,0)),setTimeout(t,n)}else o.classList.add("hiding"),setTimeout(t,c/2);a.Z||window.removeEventListener("contextmenu",u),u=null,v=!1},t&&t(d),window.requestAnimationFrame((()=>{const t=p.getBoundingClientRect();o.classList.add("c-ripple__circle");const n=e-t.left,s=i-t.top,a=Math.sqrt(Math.pow(Math.abs(s-t.height/2)+t.height/2,2)+Math.pow(Math.abs(n-t.width/2)+t.width/2,2)),r=n-a/2,l=s-a/2;o.style.width=o.style.height=a+"px",o.style.left=r+"px",o.style.top=l+"px",p.append(o)}))},m=t=>t.target!==e&&(["BUTTON","A"].includes(t.target.tagName)||(0,i.Z)(t.target,"c-ripple")!==p)&&(c===e||!(0,o.Z)(t.target,c));let v=!1;if(a.Z){let e=()=>{u&&u()};c.addEventListener("touchstart",(t=>{if(!r.Z.settings.animationsEnabled)return;if(t.touches.length>1||v||m(t))return;v=!0;let{clientX:n,clientY:i}=t.touches[0];h(n,i),c.addEventListener("touchend",e,{once:!0}),window.addEventListener("touchmove",(t=>{t.cancelBubble=!0,t.stopPropagation(),e(),c.removeEventListener("touchend",e)}),{once:!0})}),{passive:!0})}else c.addEventListener("mousedown",(e=>{if(![0,2].includes(e.button))return;if(!r.Z.settings.animationsEnabled)return;if("0"===c.dataset.ripple||m(e))return;if(v)return void(v=!1);let{clientX:t,clientY:n}=e;h(t,n),window.addEventListener("mouseup",u,{once:!0,passive:!0}),window.addEventListener("contextmenu",u,{once:!0,passive:!0})}),{passive:!0})}},2738:(e,t,n)=>{n.d(t,{EN:()=>o,fc:()=>r,pf:()=>a,tH:()=>l});var i=n(5432),s=n(6669);const a=i.Z?"mousedown":"click";function r(e,t,n={}){const i=n.listenerSetter?n.listenerSetter.add(e):e.addEventListener.bind(e);n.touchMouseDown=!0,i(a,t,n)}function o(e,t,n){e.removeEventListener(a,t,n)}function l(e){(0,s.Z)(e,a)}},9674:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(3035),s=n(3725),a=n(410),r=n(8487);const o=new class{constructor(){this.promises={},this.raf=i.T2.bind(null),this.scheduled=!1}do(e,t){let n=this.promises[e];return n||(this.scheduleFlush(),n=this.promises[e]=(0,s.Z)()),void 0!==t&&n.then((()=>t())),n}measure(e){return this.do("read",e)}mutate(e){return this.do("write",e)}mutateElement(e,t){const n=(0,r.Z)(e),i=n?this.mutate():Promise.resolve();return void 0!==t&&(n?t():i.then((()=>t()))),i}scheduleFlush(){this.scheduled||(this.scheduled=!0,this.raf((()=>{this.promises.read&&this.promises.read.resolve(),this.promises.write&&this.promises.write.resolve(),this.scheduled=!1,this.promises={}})))}};a.GO&&(a.GO.sequentialDom=o);const l=o},2582:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(2325);class s{constructor(e){this.element=document.body.querySelector("."+e.className),this.container=document.createElement("div"),this.container.className="container center-align",this.imageDiv=document.createElement("div"),this.imageDiv.className="auth-image",this.title=document.createElement("h4"),e.titleLangKey&&this.title.append((0,i.ag)(e.titleLangKey)),this.subtitle=document.createElement("p"),this.subtitle.className="subtitle",e.subtitleLangKey&&this.subtitle.append((0,i.ag)(e.subtitleLangKey)),this.container.append(this.imageDiv,this.title,this.subtitle),e.withInputWrapper&&(this.inputWrapper=document.createElement("div"),this.inputWrapper.className="input-wrapper",this.container.append(this.inputWrapper)),this.element.append(this.container)}}},8339:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var i=n(4494),s=n(503),a=n(279),r=n(6765),o=n(2325),l=n(2582),d=n(4874),c=n(8799),u=n(5565),p=n(1168),h=n(8115),m=n(3512);let v=null;const g=new d.Z("page-signUp",!0,(()=>{const e=new l.Z({className:"page-signUp",withInputWrapper:!0,titleLangKey:"YourName",subtitleLangKey:"Login.Register.Subtitle"});e.imageDiv.classList.add("avatar-edit"),e.title.classList.add("fullName");const t=document.createElement("canvas");t.id="canvas-avatar",t.className="avatar-edit-canvas";const d=document.createElement("span");let g;d.className="tgico tgico-cameraadd",e.imageDiv.append(t,d),e.imageDiv.addEventListener("click",(()=>{p.Z.createPopup(r.Z).open(t,(e=>{g=e}))}));const w=t=>{const n=b.value||"",i=L.value||"",s=n||i?(n+" "+i).trim():"";s?(0,u.Z)(e.title,(0,h.Z)(s)):(0,u.Z)(e.title,(0,o.ag)("YourName"))},b=new s.Z({label:"FirstName",maxLength:70}),L=new s.Z({label:"LastName",maxLength:64}),f=(0,i.Z)("btn-primary btn-color-primary"),Z=new o.ZP.IntlElement({key:"StartMessaging"});return f.append(Z.element),e.inputWrapper.append(b.container,L.container,f),b.input.addEventListener("input",w),L.input.addEventListener("input",w),f.addEventListener("click",(function(e){if(b.input.classList.contains("error")||L.input.classList.contains("error"))return!1;if(!b.value.length)return b.input.classList.add("error"),!1;this.disabled=!0;const t=b.value.trim(),i=L.value.trim(),s={phone_number:v.phone_number,phone_code_hash:v.phone_code_hash,first_name:t,last_name:i};Z.update({key:"PleaseWait"});const r=(0,a.y)(this);m.Z.managers.apiManager.invokeApi("auth.signUp",s).then((e=>{"auth.authorization"===e._?(m.Z.managers.apiManager.setUser(e.user),new Promise(((e,t)=>{if(!g)return e();g().then((n=>{m.Z.managers.appProfileManager.uploadProfilePhoto(n).then(e,t)}),t)})).finally((()=>{n.e(781).then(n.bind(n,5436)).then((e=>{e.default.mount()}))}))):(Z.update({key:e._}),this.removeAttribute("disabled"),r.remove())})).catch((e=>{this.removeAttribute("disabled"),r.remove(),e.type,Z.update({key:e.type})}))})),(0,c.Z)(),new Promise((e=>{window.requestAnimationFrame(e)}))}),(e=>{v=e,m.Z.managers.appStateManager.pushToState("authState",{_:"authStateSignUp",authCode:e})}))}}]);
//# sourceMappingURL=139.af9db083bdcccb6816cb.chunk.js.map